# ----------------------------------------------------------------------------
#
# Package             : allennlp
# Source Repo         : https://github.com/allenai/allennlp
# Travis Job Link     : https://travis-ci.com/github/asellappen/allennlp/
# Created travis.yml  : Yes
# Maintainer          : Arumugam N S <asellappen@yahoo.com> / Priya Seth<sethp@us.ibm.com>
#
# Script License      : Apache License, Version 2 or later
#
# ----------------------------------------------------------------------------
language: python

disct: bionic
arch:
    - amd64
    - ppc64le
    
python:
    - 3.7  
before_install:
   #pytorch not supproted for ppc64le
   - if [ "$TRAVIS_CPU_ARCH" = "ppc64le" ]; then
        grep -v  "torch" Makefile >/tmp/Makefiletmp
        mv /tmp/Makefiletmp Makefile
     fi
     
install:
    - make install
    - make format

script:	
    - make lint
    - make typecheck
    - make test-with-cov
